package org.opentestsystem.shared.contentspecid.enums;

/**
 * Enum for format types for Content Spec ID parsing and formatting. Can be ENHANCED or one of several legacy types.
 */
public enum ContentSpecFormat {
    UNKNOWN(0),    // Unknown or not applicable
    ELA_V1(1),     // SBAC-ELA-v1
    MATH_V4(4),    // SBAC-MA-v4
    MATH_V5(5),    // SBAC-MA-v5
    MATH_V6(6),    // SBAC-MA-v6
    ENHANCED(10);    // New format - works for all subjects

    final int value;

    ContentSpecFormat(int value) {
        this.value = value;
    }

    public int getValue() {
        return value;
    }

    public boolean isLegacy() {
        return !(isEnhanced() || isUnknown());
    }

    public boolean isEnhanced() {
        return this == ENHANCED;
    }

    public boolean isEla() {
        return this == ENHANCED || this == ELA_V1;
    }

    public boolean isMath() {
        return this == ENHANCED || this == MATH_V4 || this == MATH_V5 ||  this == MATH_V6;
    }

    public boolean isUnknown() {
        return this == UNKNOWN;
    }

    public String getLegacyPrefix() {
        switch (this) {
            case ELA_V1:
                return "SBAC-ELA-v1:";
            case MATH_V4:
                return "SBAC-MA-v4:";
            case MATH_V5:
                return "SBAC-MA-v5:";
            case MATH_V6:
                return "SBAC-MA-v6:";
            default:
                // Unknown or Enhanced
                return "";
        }
    }
}
